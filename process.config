params {
  out_dir = ''
}

process {
    errorStrategy = 'retry'
    maxRetries = 1
    withLabel : 'STAR_2_4_2a_AlignReads'  {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '35G'	
      publishDir.path = "${params.out_dir}/STAR"
      publishDir.mode = 'copy'
    } 
    withLabel : 'SAMBAMBA_0_6_8_Index' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '15G'
      publishDir.path = "${params.out_dir}/STAR"
      publishDir.mode = 'copy'
    }
    withLabel : 'HTSeq_0_6_0_Count' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'
      publishDir.path = "${params.out_dir}/HTSeq"
      publishDir.mode = 'copy'
    }
    withLabel: 'RSeQC_2_6_1' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'	
      publishDir.path = "${params.out_dir}/QC/RSeQC"
      publishDir.mode = 'copy'
   }
   withLabel: 'Preseq_2_0_3' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'
      publishDir.path = "${params.out_dir}/QC/Preseq"
      publishDir.mode = 'copy'
   }
   withLabel : 'SAMBAMBA_markdup_0_6_8' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'
      publishDir.path = "${params.out_dir}/MarkDup"
      publishDir.mode = 'copy'
    }
    withLabel : 'GATK_4_1_3_0_SplitNCigarReads' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '35G'
      publishDir.path = "${params.out_dir}/GATK/SplitNCigar"
      publishDir.mode = 'copy'
    } 
    withLabel : 'Salmon_0_13_1_Quant' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'
      publishDir.path = "${params.out_dir}/Salmon"
      publishDir.mode = 'copy'
    }
    withLabel : 'Fastp_0_14_1' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '15G'
      publishDir.path = "${params.out_dir}/QC/fastp"
      publishDir.mode = 'copy'
    }

}

