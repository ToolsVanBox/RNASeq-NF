params {
  star_mem = '35G'
  htseq_mem = '35G'
  trim_galore_mem = '15G'
  sambamba_mem = '5G'
  index_mem = '15G'
  rseqc_mem = '35G'
  preseq_mem = '25G'
  markdup_mem = '25G'
  trim_galore_mem = '25G'
  fastqc_mem = '10G'
}

    

process {
    errorStrategy = 'retry'
    maxRetries = 1
    withLabel : 'FASTQC_0_11_5' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '10G'
      publishDir.path = "${params.out_dir}/QC/FastQC"
      publishDir.mode = 'copy'
    }
    withName: star_mapping:AlignReads {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '35G'	
      publishDir.path = "${params.out_dir}/mapping/STAR"
      publishDir.mode = 'copy'
    } 
    withName: star_mapping:Index {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '15G'
      publishDir.path = "${params.out_dir}/mapping/STAR"
      publishDir.mode = 'copy'
    }
    withLabel : 'TrimGalore_0_6_1' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '15G'
      publishDir.path = "${params.out_dir}/trimming/TrimGalore"
      publishDir.mode = 'copy'
    }
    withLabel : 'HTSeq_0_6_0_count' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'
      publishDir.path = "${params.out_dir}/HTSeq/counts"
      publishDir.mode = 'copy'
    }
    withName: post_mapping_QC:RSeQC {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '15G'	
      publishDir.path = "${params.out_dir}/POST-QC/RSeQC"
      publishDir.mode = 'copy'
   }
    withName: post_mapping_QC:Lc_extrap {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '15G'
      publishDir.path = "${params.out_dir}/POST-QC/Preseq"
      publishDir.mode =	'copy'
   }
   withLabel : 'SAMBAMBA_markdup_0_6_8' {
      time = '24h'
      penv = 'threaded'
      cpus = 2
      memory = '25G'
      publishDir.path = "${params.out_dir}/mapping/mdup"
      publishDir.mode = 'copy'
	
    }
}

